# minificação da api imagetracejs
Minificação da api jankovicsandras / imagetracerjs (a mesma que o inkscape usa)

Link de api: https://github.com/jankovicsandras/imagetracerjs

código minificado:

```
"use strict";function a(){var a=this;this.versionnumber="1.2.6",this.imageToSVG=function(c,d,b){b=a.checkoptions(b),a.loadImage(c,function(c){d(a.imagedataToSVG(a.getImgdata(c),b))},b)},this.imagedataToSVG=function(c,b){b=a.checkoptions(b);var d=a.imagedataToTracedata(c,b);return a.getsvgstring(d,b)},this.imageToTracedata=function(c,d,b){b=a.checkoptions(b),a.loadImage(c,function(c){d(a.imagedataToTracedata(a.getImgdata(c),b))},b)},this.imagedataToTracedata=function(d,b){b=a.checkoptions(b);var c=a.colorquantization(d,b);if(0===b.layering)for(var e={layers:[],palette:c.palette,width:c.array[0].length-2,height:c.array.length-2},f=0;f<c.palette.length;f++){var h=a.batchtracepaths(a.internodes(a.pathscan(a.layeringstep(c,f),b.pathomit),b),b.ltres,b.qtres);e.layers.push(h)}else{var g=a.layering(c);b.layercontainerid&&a.drawLayers(g,a.specpalette,b.scale,b.layercontainerid);var i=a.batchpathscan(g,b.pathomit),j=a.batchinternodes(i,b),e={layers:a.batchtracelayers(j,b.ltres,b.qtres),palette:c.palette,width:d.width,height:d.height}}return e},this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.checkoptions=function(b){"string"==typeof(b=b||{})&&(b=b.toLowerCase(),b=a.optionpresets[b]?a.optionpresets[b]:{});for(var d=Object.keys(a.optionpresets.default),c=0;c<d.length;c++)b.hasOwnProperty(d[c])||(b[d[c]]=a.optionpresets.default[d[c]]);return b},this.colorquantization=function(b,g){var q,p,k,h,i,c,l,d,n=[],e=0,f=[],o=b.width*b.height;if(b.data.length<4*o){for(var m=new Uint8ClampedArray(4*o),j=0;j<o;j++)m[4*j]=b.data[3*j],m[4*j+1]=b.data[3*j+1],m[4*j+2]=b.data[3*j+2],m[4*j+3]=255;b.data=m}for(i=0;i<b.height+2;i++)for(h=0,n[i]=[];h<b.width+2;h++)n[i][h]=-1;for(d=g.pal?g.pal:0===g.colorsampling?a.generatepalette(g.numberofcolors):1===g.colorsampling?a.samplepalette(g.numberofcolors,b):a.samplepalette2(g.numberofcolors,b),g.blurradius>0&&(b=a.blur(b,g.blurradius,g.blurdelta)),l=0;l<g.colorquantcycles;l++){if(l>0)for(c=0;c<d.length;c++)f[c].n>0&&(d[c]={r:Math.floor(f[c].r/f[c].n),g:Math.floor(f[c].g/f[c].n),b:Math.floor(f[c].b/f[c].n),a:Math.floor(f[c].a/f[c].n)}),f[c].n/o<g.mincolorratio&&l<g.colorquantcycles-1&&(d[c]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(h=0;h<d.length;h++)f[h]={r:0,g:0,b:0,a:0,n:0};for(i=0;i<b.height;i++)for(h=0;h<b.width;h++){for(c=0,e=(i*b.width+h)*4,k=0,p=1024;c<d.length;c++)(q=(d[c].r>b.data[e]?d[c].r-b.data[e]:b.data[e]-d[c].r)+(d[c].g>b.data[e+1]?d[c].g-b.data[e+1]:b.data[e+1]-d[c].g)+(d[c].b>b.data[e+2]?d[c].b-b.data[e+2]:b.data[e+2]-d[c].b)+(d[c].a>b.data[e+3]?d[c].a-b.data[e+3]:b.data[e+3]-d[c].a))<p&&(p=q,k=c);f[k].r+=b.data[e],f[k].g+=b.data[e+1],f[k].b+=b.data[e+2],f[k].a+=b.data[e+3],f[k].n++,n[i+1][h+1]=k}}return{array:n,palette:d}},this.samplepalette=function(e,a){for(var b,c=[],d=0;d<e;d++)b=4*Math.floor(Math.random()*a.data.length/4),c.push({r:a.data[b],g:a.data[b+1],b:a.data[b+2],a:a.data[b+3]});return c},this.samplepalette2=function(c,a){for(var b,d=[],e=Math.ceil(Math.sqrt(c)),h=Math.ceil(c/e),i=a.width/(e+1),j=a.height/(h+1),f=0;f<h;f++)for(var g=0;g<e&&d.length!==c;g++)b=4*Math.floor((f+1)*j*a.width+(g+1)*i),d.push({r:a.data[b],g:a.data[b+1],b:a.data[b+2],a:a.data[b+3]});return d},this.generatepalette=function(c){var a,e,f,g=[];if(c<8)for(var h=Math.floor(255/(c-1)),d=0;d<c;d++)g.push({r:d*h,g:d*h,b:d*h,a:255});else{var b=Math.floor(Math.pow(c,1/3)),i=Math.floor(255/(b-1)),j=c-b*b*b;for(a=0;a<b;a++)for(e=0;e<b;e++)for(f=0;f<b;f++)g.push({r:a*i,g:e*i,b:f*i,a:255});for(a=0;a<j;a++)g.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return g},this.layering=function(d){var k,g,l,h,i,m,j,n,b,a,f,e=[],c=0,o=d.array.length,p=d.array[0].length;for(f=0;f<d.palette.length;f++)for(a=0,e[f]=[];a<o;a++)for(b=0,e[f][a]=[];b<p;b++)e[f][a][b]=0;for(a=1;a<o-1;a++)for(b=1;b<p-1;b++)c=d.array[a][b],k=d.array[a-1][b-1]===c?1:0,g=d.array[a-1][b]===c?1:0,l=d.array[a-1][b+1]===c?1:0,h=d.array[a][b-1]===c?1:0,i=d.array[a][b+1]===c?1:0,m=d.array[a+1][b-1]===c?1:0,j=d.array[a+1][b]===c?1:0,n=d.array[a+1][b+1]===c?1:0,e[c][a+1][b+1]=1+2*i+4*n+8*j,h||(e[c][a+1][b]=2+4*j+8*m),g||(e[c][a][b+1]=0+2*l+4*i+8),k||(e[c][a][b]=0+2*g+4+8*h);return e},this.layeringstep=function(c,d){var b,a,e=[],f=c.array.length,g=c.array[0].length;for(a=0;a<f;a++)for(b=0,e[a]=[];b<g;b++)e[a][b]=0;for(a=1;a<f;a++)for(b=1;b<g;b++)e[a][b]=(c.array[a-1][b-1]===d?1:0)+(c.array[a-1][b]===d?2:0)+(c.array[a][b-1]===d?8:0)+(c.array[a][b]===d?4:0);return e},this.pointinpoly=function(c,a){for(var d=!1,b=0,e=a.length-1;b<a.length;e=b++)d=a[b].y>c.y!=a[e].y>c.y&&c.x<(a[e].x-a[b].x)*(c.y-a[b].y)/(a[e].y-a[b].y)+a[b].x?!d:d;return d},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.pathscan=function(f,s){for(var k,b=[],c=0,h=0,d=0,e=0,o=f[0].length,p=f.length,l=0,m=!0,n=!1,i=0;i<p;i++)for(var j=0;j<o;j++)if(4==f[i][j]||11==f[i][j])for(d=j,e=i,b[c]={},b[c].points=[],b[c].boundingbox=[d,e,d,e],b[c].holechildren=[],m=!1,h=0,n=11==f[i][j],l=1;!m;){if(b[c].points[h]={},b[c].points[h].x=d-1,b[c].points[h].y=e-1,b[c].points[h].t=f[e][d],d-1<b[c].boundingbox[0]&&(b[c].boundingbox[0]=d-1),d-1>b[c].boundingbox[2]&&(b[c].boundingbox[2]=d-1),e-1<b[c].boundingbox[1]&&(b[c].boundingbox[1]=e-1),e-1>b[c].boundingbox[3]&&(b[c].boundingbox[3]=e-1),k=a.pathscan_combined_lookup[f[e][d]][l],f[e][d]=k[0],l=k[1],d+=k[2],e+=k[3],d-1===b[c].points[0].x&&e-1===b[c].points[0].y){if(m=!0,b[c].points.length<s)b.pop();else{if(b[c].isholepath=!!n,n){for(var q=0,r=[-1,-1,o+1,p+1],g=0;g<c;g++)!b[g].isholepath&&a.boundingboxincludes(b[g].boundingbox,b[c].boundingbox)&&a.boundingboxincludes(r,b[g].boundingbox)&&a.pointinpoly(b[c].points[0],b[g].points)&&(q=g,r=b[g].boundingbox);b[q].holechildren.push(c)}c++}}h++}return b},this.boundingboxincludes=function(a,b){return a[0]<b[0]&&a[1]<b[1]&&a[2]>b[2]&&a[3]>b[3]},this.batchpathscan=function(b,e){var d=[];for(var c in b)b.hasOwnProperty(c)&&(d[c]=a.pathscan(b[c],e));return d},this.internodes=function(c,k){var b,d,e=[],g=0,f=0,h=0,i=0,j=0;for(b=0;b<c.length;b++)for(d=0,e[b]={},e[b].points=[],e[b].boundingbox=c[b].boundingbox,e[b].holechildren=c[b].holechildren,e[b].isholepath=c[b].isholepath,g=c[b].points.length;d<g;d++)f=(d+1)%g,h=(d+2)%g,i=(d-1+g)%g,j=(d-2+g)%g,k.rightangleenhance&&a.testrightangle(c[b],j,i,d,f,h)&&(e[b].points.length>0&&(e[b].points[e[b].points.length-1].linesegment=a.getdirection(e[b].points[e[b].points.length-1].x,e[b].points[e[b].points.length-1].y,c[b].points[d].x,c[b].points[d].y)),e[b].points.push({x:c[b].points[d].x,y:c[b].points[d].y,linesegment:a.getdirection(c[b].points[d].x,c[b].points[d].y,(c[b].points[d].x+c[b].points[f].x)/2,(c[b].points[d].y+c[b].points[f].y)/2)})),e[b].points.push({x:(c[b].points[d].x+c[b].points[f].x)/2,y:(c[b].points[d].y+c[b].points[f].y)/2,linesegment:a.getdirection((c[b].points[d].x+c[b].points[f].x)/2,(c[b].points[d].y+c[b].points[f].y)/2,(c[b].points[f].x+c[b].points[h].x)/2,(c[b].points[f].y+c[b].points[h].y)/2)});return e},this.testrightangle=function(a,c,d,b,e,f){return a.points[b].x===a.points[c].x&&a.points[b].x===a.points[d].x&&a.points[b].y===a.points[e].y&&a.points[b].y===a.points[f].y||a.points[b].y===a.points[c].y&&a.points[b].y===a.points[d].y&&a.points[b].x===a.points[e].x&&a.points[b].x===a.points[f].x},this.getdirection=function(c,a,d,b){return c<d?a<b?1:a>b?7:0:c>d?a<b?3:a>b?5:4:a<b?2:a>b?6:8},this.batchinternodes=function(b,e){var d=[];for(var c in b)b.hasOwnProperty(c)&&(d[c]=a.internodes(b[c],e));return d},this.tracepath=function(b,h,i){var g,e,c,f=0,d={};for(d.segments=[],d.boundingbox=b.boundingbox,d.holechildren=b.holechildren,d.isholepath=b.isholepath;f<b.points.length;){for(g=b.points[f].linesegment,e=-1,c=f+1;(b.points[c].linesegment===g||b.points[c].linesegment===e|| -1===e)&&c<b.points.length-1;)b.points[c].linesegment!==g&& -1===e&&(e=b.points[c].linesegment),c++;c===b.points.length-1&&(c=0),d.segments=d.segments.concat(a.fitseq(b,h,i,f,c)),f=c>0?c:b.points.length}return d},this.fitseq=function(b,r,s,c,e){if(e>b.points.length||e<0)return[];var h,i,g,t=c,k=0,l=!0,j=e-c;j<0&&(j+=b.points.length);for(var p,x=(b.points[e].x-b.points[c].x)/j,y=(b.points[e].y-b.points[c].y)/j,d=(c+1)%b.points.length;d!=e;)(p=d-c)<0&&(p+=b.points.length),h=b.points[c].x+x*p,i=b.points[c].y+y*p,g=(b.points[d].x-h)*(b.points[d].x-h)+(b.points[d].y-i)*(b.points[d].y-i),g>r&&(l=!1),g>k&&(t=d,k=g),d=(d+1)%b.points.length;if(l)return[{type:"L",x1:b.points[c].x,y1:b.points[c].y,x2:b.points[e].x,y2:b.points[e].y}];var q=t;l=!0,k=0;var f=(q-c)/j,m=(1-f)*(1-f),n=2*(1-f)*f,o=f*f,u=-((m*b.points[c].x+o*b.points[e].x-b.points[q].x)/n),v=-((m*b.points[c].y+o*b.points[e].y-b.points[q].y)/n);for(d=c+1;d!=e;)m=(1-(f=(d-c)/j))*(1-f),n=2*(1-f)*f,o=f*f,h=m*b.points[c].x+n*u+o*b.points[e].x,i=m*b.points[c].y+n*v+o*b.points[e].y,g=(b.points[d].x-h)*(b.points[d].x-h)+(b.points[d].y-i)*(b.points[d].y-i),g>s&&(l=!1),g>k&&(t=d,k=g),d=(d+1)%b.points.length;if(l)return[{type:"Q",x1:b.points[c].x,y1:b.points[c].y,x2:u,y2:v,x3:b.points[e].x,y3:b.points[e].y}];var w=q;return a.fitseq(b,r,s,c,w).concat(a.fitseq(b,r,s,w,e))},this.batchtracepaths=function(b,e,f){var c=[];for(var d in b)b.hasOwnProperty(d)&&c.push(a.tracepath(b[d],e,f));return c},this.batchtracelayers=function(b,e,f){var d=[];for(var c in b)b.hasOwnProperty(c)&&(d[c]=a.batchtracepaths(b[c],e,f));return d},this.roundtodec=function(a,b){return+a.toFixed(b)},this.svgpathstring=function(j,h,k,b){var c,i=j.layers[h],e=i[k],f="";if(b.linefilter&&e.segments.length<3)return f;if(f="<path "+(b.desc?'desc="l '+h+" p "+k+'" ':"")+a.tosvgcolorstr(j.palette[h],b)+'d="',-1===b.roundcoords){for(f+="M "+e.segments[0].x1*b.scale+" "+e.segments[0].y1*b.scale+" ",c=0;c<e.segments.length;c++)f+=e.segments[c].type+" "+e.segments[c].x2*b.scale+" "+e.segments[c].y2*b.scale+" ",e.segments[c].hasOwnProperty("x3")&&(f+=e.segments[c].x3*b.scale+" "+e.segments[c].y3*b.scale+" ");f+="Z "}else{for(f+="M "+a.roundtodec(e.segments[0].x1*b.scale,b.roundcoords)+" "+a.roundtodec(e.segments[0].y1*b.scale,b.roundcoords)+" ",c=0;c<e.segments.length;c++)f+=e.segments[c].type+" "+a.roundtodec(e.segments[c].x2*b.scale,b.roundcoords)+" "+a.roundtodec(e.segments[c].y2*b.scale,b.roundcoords)+" ",e.segments[c].hasOwnProperty("x3")&&(f+=a.roundtodec(e.segments[c].x3*b.scale,b.roundcoords)+" "+a.roundtodec(e.segments[c].y3*b.scale,b.roundcoords)+" ");f+="Z "}for(var g=0;g<e.holechildren.length;g++){var d=i[e.holechildren[g]];if(-1===b.roundcoords)for(d.segments[d.segments.length-1].hasOwnProperty("x3")?f+="M "+d.segments[d.segments.length-1].x3*b.scale+" "+d.segments[d.segments.length-1].y3*b.scale+" ":f+="M "+d.segments[d.segments.length-1].x2*b.scale+" "+d.segments[d.segments.length-1].y2*b.scale+" ",c=d.segments.length-1;c>=0;c--)f+=d.segments[c].type+" ",d.segments[c].hasOwnProperty("x3")&&(f+=d.segments[c].x2*b.scale+" "+d.segments[c].y2*b.scale+" "),f+=d.segments[c].x1*b.scale+" "+d.segments[c].y1*b.scale+" ";else for(d.segments[d.segments.length-1].hasOwnProperty("x3")?f+="M "+a.roundtodec(d.segments[d.segments.length-1].x3*b.scale)+" "+a.roundtodec(d.segments[d.segments.length-1].y3*b.scale)+" ":f+="M "+a.roundtodec(d.segments[d.segments.length-1].x2*b.scale)+" "+a.roundtodec(d.segments[d.segments.length-1].y2*b.scale)+" ",c=d.segments.length-1;c>=0;c--)f+=d.segments[c].type+" ",d.segments[c].hasOwnProperty("x3")&&(f+=a.roundtodec(d.segments[c].x2*b.scale)+" "+a.roundtodec(d.segments[c].y2*b.scale)+" "),f+=a.roundtodec(d.segments[c].x1*b.scale)+" "+a.roundtodec(d.segments[c].y1*b.scale)+" ";f+="Z "}if(f+='" />',b.lcpr||b.qcpr){for(c=0;c<e.segments.length;c++)e.segments[c].hasOwnProperty("x3")&&b.qcpr&&(f+='<circle cx="'+e.segments[c].x2*b.scale+'" cy="'+e.segments[c].y2*b.scale+'" r="'+b.qcpr+'" fill="cyan" stroke-width="'+.2*b.qcpr+'" stroke="black" />',f+='<circle cx="'+e.segments[c].x3*b.scale+'" cy="'+e.segments[c].y3*b.scale+'" r="'+b.qcpr+'" fill="white" stroke-width="'+.2*b.qcpr+'" stroke="black" />',f+='<line x1="'+e.segments[c].x1*b.scale+'" y1="'+e.segments[c].y1*b.scale+'" x2="'+e.segments[c].x2*b.scale+'" y2="'+e.segments[c].y2*b.scale+'" stroke-width="'+.2*b.qcpr+'" stroke="cyan" />',f+='<line x1="'+e.segments[c].x2*b.scale+'" y1="'+e.segments[c].y2*b.scale+'" x2="'+e.segments[c].x3*b.scale+'" y2="'+e.segments[c].y3*b.scale+'" stroke-width="'+.2*b.qcpr+'" stroke="cyan" />'),!e.segments[c].hasOwnProperty("x3")&&b.lcpr&&(f+='<circle cx="'+e.segments[c].x2*b.scale+'" cy="'+e.segments[c].y2*b.scale+'" r="'+b.lcpr+'" fill="white" stroke-width="'+.2*b.lcpr+'" stroke="black" />');for(var g=0;g<e.holechildren.length;g++){var d=i[e.holechildren[g]];for(c=0;c<d.segments.length;c++)d.segments[c].hasOwnProperty("x3")&&b.qcpr&&(f+='<circle cx="'+d.segments[c].x2*b.scale+'" cy="'+d.segments[c].y2*b.scale+'" r="'+b.qcpr+'" fill="cyan" stroke-width="'+.2*b.qcpr+'" stroke="black" />',f+='<circle cx="'+d.segments[c].x3*b.scale+'" cy="'+d.segments[c].y3*b.scale+'" r="'+b.qcpr+'" fill="white" stroke-width="'+.2*b.qcpr+'" stroke="black" />',f+='<line x1="'+d.segments[c].x1*b.scale+'" y1="'+d.segments[c].y1*b.scale+'" x2="'+d.segments[c].x2*b.scale+'" y2="'+d.segments[c].y2*b.scale+'" stroke-width="'+.2*b.qcpr+'" stroke="cyan" />',f+='<line x1="'+d.segments[c].x2*b.scale+'" y1="'+d.segments[c].y2*b.scale+'" x2="'+d.segments[c].x3*b.scale+'" y2="'+d.segments[c].y3*b.scale+'" stroke-width="'+.2*b.qcpr+'" stroke="cyan" />'),!d.segments[c].hasOwnProperty("x3")&&b.lcpr&&(f+='<circle cx="'+d.segments[c].x2*b.scale+'" cy="'+d.segments[c].y2*b.scale+'" r="'+b.lcpr+'" fill="white" stroke-width="'+.2*b.lcpr+'" stroke="black" />')}}return f},this.getsvgstring=function(b,c){c=a.checkoptions(c);for(var f=b.width*c.scale,g=b.height*c.scale,h="<svg "+(c.viewbox?'viewBox="0 0 '+f+" "+g+'" ':'width="'+f+'" height="'+g+'" ')+'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version '+a.versionnumber+'" >',d=0;d<b.layers.length;d++)for(var e=0;e<b.layers[d].length;e++)b.layers[d][e].isholepath||(h+=a.svgpathstring(b,d,e,c));return h+"</svg>"},this.compareNumbers=function(a,b){return a-b},this.torgbastr=function(a){return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"},this.tosvgcolorstr=function(a,b){return'fill="rgb('+a.r+","+a.g+","+a.b+')" stroke="rgb('+a.r+","+a.g+","+a.b+')" stroke-width="'+b.strokewidth+'" opacity="'+a.a/255+'" '},this.appendSVGString=function(c,b){var a;b?(a=document.getElementById(b))||((a=document.createElement("div")).id=b,document.body.appendChild(a)):(a=document.createElement("div"),document.body.appendChild(a)),a.innerHTML+=c},this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.blur=function(c,e,o){var g,h,d,b,k,l,m,n,i,f={width:c.width,height:c.height,data:[]};if((e=Math.floor(e))<1)return c;e>5&&(e=5),(o=Math.abs(o))>1024&&(o=1024);var j=a.gks[e-1];for(h=0;h<c.height;h++)for(g=0;g<c.width;g++){for(k=0,l=0,m=0,n=0,i=0,d=-e;d<e+1;d++)g+d>0&&g+d<c.width&&(b=(h*c.width+g+d)*4,k+=c.data[b]*j[d+e],l+=c.data[b+1]*j[d+e],m+=c.data[b+2]*j[d+e],n+=c.data[b+3]*j[d+e],i+=j[d+e]);b=(h*c.width+g)*4,f.data[b]=Math.floor(k/i),f.data[b+1]=Math.floor(l/i),f.data[b+2]=Math.floor(m/i),f.data[b+3]=Math.floor(n/i)}var p=new Uint8ClampedArray(f.data);for(h=0;h<c.height;h++)for(g=0;g<c.width;g++){for(k=0,l=0,m=0,n=0,i=0,d=-e;d<e+1;d++)h+d>0&&h+d<c.height&&(k+=p[b=((h+d)*c.width+g)*4]*j[d+e],l+=p[b+1]*j[d+e],m+=p[b+2]*j[d+e],n+=p[b+3]*j[d+e],i+=j[d+e]);b=(h*c.width+g)*4,f.data[b]=Math.floor(k/i),f.data[b+1]=Math.floor(l/i),f.data[b+2]=Math.floor(m/i),f.data[b+3]=Math.floor(n/i)}for(h=0;h<c.height;h++)for(g=0;g<c.width;g++)b=(h*c.width+g)*4,Math.abs(f.data[b]-c.data[b])+Math.abs(f.data[b+1]-c.data[b+1])+Math.abs(f.data[b+2]-c.data[b+2])+Math.abs(f.data[b+3]-c.data[b+3])>o&&(f.data[b]=c.data[b],f.data[b+1]=c.data[b+1],f.data[b+2]=c.data[b+2],f.data[b+3]=c.data[b+3]);return f},this.loadImage=function(c,d,b){var a=new Image;b&&b.corsenabled&&(a.crossOrigin="Anonymous"),a.onload=function(){var b=document.createElement("canvas");b.width=a.width,b.height=a.height,b.getContext("2d").drawImage(a,0,0),d(b)},a.src=c},this.getImgdata=function(a){return a.getContext("2d").getImageData(0,0,a.width,a.height)},this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}],this.drawLayers=function(c,h,b,g){for(l in b=b||1,g?(m=document.getElementById(g))||((m=document.createElement("div")).id=g,document.body.appendChild(m)):(m=document.createElement("div"),document.body.appendChild(m)),c)if(c.hasOwnProperty(l)){i=c[l][0].length,j=c[l].length;var i,j,d,e,l,m,f=document.createElement("canvas");f.width=i*b,f.height=j*b;var k=f.getContext("2d");for(e=0;e<j;e++)for(d=0;d<i;d++)k.fillStyle=a.torgbastr(h[c[l][e][d]%h.length]),k.fillRect(d*b,e*b,b,b);m.appendChild(f)}}}"function"==typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module?module.exports=new a:"undefined"!=typeof self?self.ImageTracer=new a:window.ImageTracer=new a
```
